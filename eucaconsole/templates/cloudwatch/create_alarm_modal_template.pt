<form name="createAlarmForm" ng-submit="createAlarm()" novalidate="">
    <h3 i18n:translate="">Create Alarm</h3>
    <h6 i18n:translate="">Alarm</h6>
    <div class="row inline controls-wrapper">
        <div class="large-3 small-3 columns">
            <label class="right" i18n:translate="">Name</label>
        </div>
        <div class="large-9 small-9 columns field">
            <input name="name" ng-model="alarm.name" required="required" type="text" ng-change="onNameChange()">
            <small class="error unique-name" i18n:translate="">Alarm name must be unique.</small>
        </div>
    </div>
    <div class="row inline controls-wrapper">
        <div class="large-3 small-3 columns">
            <label class="right" i18n:translate="">Description</label>
        </div>
        <div class="large-9 small-9 columns field">
            <textarea class=""
                maxlength="255" name="description" ng-model="alarm.description"></textarea>
        </div>
    </div>
    <div class="row controls-wrapper dimensions">
        <div class="large-3 small-3 columns">
            <label class="right" i18n:translate="">Dimensions</label>
        </div>
        <div class="large-9 small-9 columns">
            <ul>
                <li ng-repeat="(key, val) in alarm.metric.dimensions">{{ key }} = {{ val.join(', ') }}</li>
            </ul>
        </div>
    </div>
    <div class="row controls-wrapper">
        <div class="small-3 columns">
            <label class="right" i18n:translate="">Trigger alarm when the</label>
        </div>
        <div class="small-3 columns">
            <select name="statistic" ng-model="alarm.statistic">
                <option value="Average" i18n:translate="">Average</option>
                <option value="Minimum" i18n:translate="">Minimum</option>
                <option value="Maximum" i18n:translate="">Maximum</option>
                <option value="Sum" i18n:translate="">Sum</option>
                <option value="SampleCount" i18n:translate="">Data samples</option>
            </select>
        </div>
        <div class="small-6 columns">
            <select name="metric" ng-model="alarm.metric"
                                  ng-options="metric.name as metric.label for metric in metrics track by metric.name"></select>
        </div>
    </div>
    <div class="row controls-wrapper">
        <div class="small-3 columns">
            <label class="right" i18n:translate="">is</label>
        </div>
        <div class="small-2 columns">
            <select name="comparison" ng-model="alarm.comparison">
                <option value=">=">&gt;&#61;</option>
                <option value="<=">&lt;&#61;</option>
                <option value=">">&gt;</option>
                <option value="<">&lt;</option>
            </select>
        </div>
        <div class="small-3 columns">
            <input ng-model="alarm.threshold" name="threshold"
                   pattern="^[1-9]\d*$" placeholder="amount..." required="required" type="number"/>
        </div>
        <div class="small-4 columns">
            <div class="unit-label">{{ alarm.metric.unit }}</div>
        </div>
    </div>
    <div class="row controls-wrapper">
        <div class="small-3 columns">
            <label class="right" i18n:translate="">for at least</label>
        </div>
        <div class="small-2 columns">
            <input name="evaluation_periods" ng-model="alarm.evaluation_periods" type="number" required="required"/>
        </div>
        <div class="small-4 columns">
            <label i18n:translate="">consecutive periods of</label>
        </div>
        <div class="small-3 columns">
            <select name="period" ng-model="alarm.period" required="required">
                <option value="60" i18n:translate="">1 minute</option>
                <option value="300" i18n:translate="">5 minutes</option>
                <option value="900" i18n:translate="">15 minutes</option>
                <option value="3600" i18n:translate="">1 hour</option>
                <option value="21600" i18n:translate="">6 hours</option>
                <option value="86400" i18n:translate="">1 day</option>
            </select>
        </div>
    </div>
    <hr/>
    ${panel('alarm_actions_panel')}
    <hr/>
    <div class="controls">
        <button type="submit" class="button expand" i18n:translate="">
            Create Alarm
        </button>
    </div>
</form>
