<!--! Block Device Mapping editor -->
<div id="bdmapping-editor" class="row controls-wrapper" ng-app="BlockDeviceMappingEditor"
     ng-controller="BlockDeviceMappingEditorCtrl" ng-init="initBlockDeviceMappingEditor('${bdm_json}')">
    <label i18n:translate="" class="storage-label">Storage</label>
    <div>
        <table class="table">
            <thead>
                <tr>
                    <th i18n:translate="">Volume</th>
                    <th i18n:translate="">Mapping</th>
                    <th i18n:translate="">Snapshot</th>
                    <th i18n:translate="">Size (GB)</th>
                    <th i18n:translate="">Delete on Terminate</th>
                    <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="(key, val) in bdMapping">
                    <td>
                        <span ng-show="key === '/dev/sda'">Root</span>
                        <span ng-show="key !== '/dev/sda'">{{ val.volume_type }}</span>
                    </td>
                    <td>{{ key }}</td>
                    <td>{{ val.snapshot_id }}</td>
                    <td>{{ val.size }} GB</td>
                    <td>
                        <input type="checkbox" ng-checked="val.delete_on_termination" />
                    </td>
                    <td></td>
                </tr>
                <tr class="new-entry">
                    <td>
                        <select name="volume_type">
                            <option value="EBS">EBS</option>
                            <option value="ephemeral">Ephemeral</option>
                        </select>
                    </td>
                    <td>
                        <input type="text" name="path" />
                    </td>
                    <td>
                        <select name="snapshot_id">
                            <option value="">None</option>
                        </select>
                    </td>
                    <td>
                        <input type="number" pattern="integer" />
                    </td>
                    <td>
                        <input type="checkbox" name="delete_on_termination"  checked="checked" />
                    </td>
                    <td>
                        <i class="circle">+</i>
                    </td>
                </tr>
            </tbody>
        </table>
        <textarea id="bdmapping" name="block_device_mapping"></textarea>
    </div>
    <script src="${request.static_url('koala:static/js/pages/bdmapping_editor.js')}"></script>
</div>
